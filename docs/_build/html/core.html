
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>core module &#8212; Hermes  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-core">
<span id="core-module"></span><h1>core module<a class="headerlink" href="#module-core" title="Permalink to this headline">¶</a></h1>
<p>Provides the user interface and main loop for path-generation</p>
<dl class="class">
<dt id="core.Prompt">
<em class="property">class </em><code class="descclassname">core.</code><code class="descname">Prompt</code><a class="headerlink" href="#core.Prompt" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">cmd.Cmd</span></code></p>
<p>User interface for profile generation</p>
<p>Defines all the commands users can use to generate and work on numerical
velocity profiles. Also supplies the command loop structure.</p>
<dl class="attribute">
<dt id="core.Prompt.waypoints">
<code class="descname">waypoints</code><a class="headerlink" href="#core.Prompt.waypoints" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of waypoints which define the path</p>
</dd></dl>

<dl class="attribute">
<dt id="core.Prompt.path">
<code class="descname">path</code><a class="headerlink" href="#core.Prompt.path" title="Permalink to this definition">¶</a></dt>
<dd><p>The path the robot will drive</p>
</dd></dl>

<dl class="attribute">
<dt id="core.Prompt.robot">
<code class="descname">robot</code><a class="headerlink" href="#core.Prompt.robot" title="Permalink to this definition">¶</a></dt>
<dd><p>The robot that will have to follow the path</p>
</dd></dl>

<dl class="attribute">
<dt id="core.Prompt.visualize">
<code class="descname">visualize</code><a class="headerlink" href="#core.Prompt.visualize" title="Permalink to this definition">¶</a></dt>
<dd><p>The visualizer which displays the path and profiles</p>
</dd></dl>

<dl class="attribute">
<dt id="core.Prompt.profile">
<code class="descname">profile</code><a class="headerlink" href="#core.Prompt.profile" title="Permalink to this definition">¶</a></dt>
<dd><p>The numerical velocity profile</p>
</dd></dl>

<dl class="method">
<dt id="core.Prompt.add_waypoint">
<code class="descname">add_waypoint</code><span class="sig-paren">(</span><em>position</em>, <em>velocity</em>, <em>acceleration</em><span class="sig-paren">)</span><a class="headerlink" href="#core.Prompt.add_waypoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a given waypoint</p>
<p>This is meant to be called from the waypoint add command. It parses
the input into vectors then adds the waypoint.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>position</strong> (<em>str</em>) – Represents the position in 2d space of the waypoint.
Should be parsable by <a class="reference internal" href="#core.Prompt.parse_vector" title="core.Prompt.parse_vector"><code class="xref py py-func docutils literal"><span class="pre">parse_vector()</span></code></a></li>
<li><strong>velocity</strong> (<em>str</em>) – Represents the velocity in 2d space of the waypoint.
Should be parsable by <a class="reference internal" href="#core.Prompt.parse_vector" title="core.Prompt.parse_vector"><code class="xref py py-func docutils literal"><span class="pre">parse_vector()</span></code></a></li>
<li><strong>acceleration</strong> (<em>str</em>) – Represents the acceleration in 2d space of the
waypoint. Should be parsable by
<a class="reference internal" href="#core.Prompt.parse_vector" title="core.Prompt.parse_vector"><code class="xref py py-func docutils literal"><span class="pre">parse_vector()</span></code></a></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="core.Prompt.do_compute">
<code class="descname">do_compute</code><span class="sig-paren">(</span><em>args</em><span class="sig-paren">)</span><a class="headerlink" href="#core.Prompt.do_compute" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles the user input to the copmpute command</p>
<p>Takes all the waypoints currently defined, the path through them,
and the robot and generates a numerical velocity profile. The details
of that computation are too long to outline here and are all in the
velocity_profile module.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>args</strong> (<em>str</em>) – All the text after the ‘compute’ will be parsed to
a floating number representing the distance between planning
points</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="core.Prompt.do_quit">
<em class="property">static </em><code class="descname">do_quit</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="headerlink" href="#core.Prompt.do_quit" title="Permalink to this definition">¶</a></dt>
<dd><p>Quits the program</p>
</dd></dl>

<dl class="method">
<dt id="core.Prompt.do_robot">
<code class="descname">do_robot</code><span class="sig-paren">(</span><em>args</em><span class="sig-paren">)</span><a class="headerlink" href="#core.Prompt.do_robot" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles user input for the robot command</p>
<p>Allows the user to manipulate the robot object from the terminal.
Accepted user commands at the moment are:</p>
<ul class="simple">
<li>robot : prints the robot object</li>
<li>robot [attribute] : prints the value of the attribute handled by <a class="reference internal" href="#core.Prompt.print_attribute" title="core.Prompt.print_attribute"><code class="xref py py-func docutils literal"><span class="pre">print_attribute()</span></code></a></li>
<li>robot [attribute] [value] : sets the value of attribute to value handled by <a class="reference internal" href="#core.Prompt.update_robot" title="core.Prompt.update_robot"><code class="xref py py-func docutils literal"><span class="pre">update_robot()</span></code></a></li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>args</strong> (<em>str</em>) – A string representing all of the user input after
‘robot’</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="core.Prompt.do_save">
<code class="descname">do_save</code><span class="sig-paren">(</span><em>args</em><span class="sig-paren">)</span><a class="headerlink" href="#core.Prompt.do_save" title="Permalink to this definition">¶</a></dt>
<dd><p>“Handles user input for the save command</p>
<p>Allows the user to save the numerical velocity profile to a json file.
At the moment it’s very dumb and just dumps it out into same file where
this one is located. Moreover it assumes everything after the word
‘save’ is the of the output file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>args</strong> (<em>str</em>) – A string representing all of the user input after
‘save’</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="core.Prompt.do_show">
<code class="descname">do_show</code><span class="sig-paren">(</span><em>args</em><span class="sig-paren">)</span><a class="headerlink" href="#core.Prompt.do_show" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns on the matplotlib plots</p>
<p>Enables the matplotlib plots to render, if any of them are closed this
will not reshow them at the moment. I need to work out a better way to
handle the plots.</p>
</dd></dl>

<dl class="method">
<dt id="core.Prompt.do_waypoint">
<code class="descname">do_waypoint</code><span class="sig-paren">(</span><em>args</em><span class="sig-paren">)</span><a class="headerlink" href="#core.Prompt.do_waypoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles user input for waypoint manipulation</p>
<p>Allows the user to modify the list of waypoints. The current commands
which are accepted are:
- waypoint clear : clears all waypoints
- waypoint remove n : removes the nth waypoint (0 indexed) handled by <a class="reference internal" href="#core.Prompt.remove_waypoint" title="core.Prompt.remove_waypoint"><code class="xref py py-func docutils literal"><span class="pre">remove_waypoint()</span></code></a>
- waypoint add position velocity acceleration : adds a waypoint with the given position, velocity, and acceleration. handled by <a class="reference internal" href="#core.Prompt.add_waypoint" title="core.Prompt.add_waypoint"><code class="xref py py-func docutils literal"><span class="pre">add_waypoint()</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>args</strong> (<em>str</em>) – A string representing all the text from the users input
after ‘waypoint’</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="core.Prompt.help_compute">
<em class="property">static </em><code class="descname">help_compute</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#core.Prompt.help_compute" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the help text for the compute command</p>
</dd></dl>

<dl class="staticmethod">
<dt id="core.Prompt.help_intro">
<em class="property">static </em><code class="descname">help_intro</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#core.Prompt.help_intro" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a short tutorial on how to use the command prompt interface</p>
</dd></dl>

<dl class="staticmethod">
<dt id="core.Prompt.help_robot">
<em class="property">static </em><code class="descname">help_robot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#core.Prompt.help_robot" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays help text for robot command</p>
</dd></dl>

<dl class="staticmethod">
<dt id="core.Prompt.help_save">
<em class="property">static </em><code class="descname">help_save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#core.Prompt.help_save" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the help text for the save command.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="core.Prompt.help_show">
<em class="property">static </em><code class="descname">help_show</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#core.Prompt.help_show" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the help text for the show function.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="core.Prompt.help_waypoint">
<em class="property">static </em><code class="descname">help_waypoint</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#core.Prompt.help_waypoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the help text for the waypoint command.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="core.Prompt.parse_vector">
<em class="property">static </em><code class="descname">parse_vector</code><span class="sig-paren">(</span><em>vector</em><span class="sig-paren">)</span><a class="headerlink" href="#core.Prompt.parse_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a string into a numpy array</p>
<p>Chops off the first and last character and then parses into a numpy
array. This results in potentially weird outcomes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>vector</strong> – A string in the form (1,2,…,n), [1,2,…,n],
&lt;1,2,…,n&gt; etc</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A numpy array</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">array</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> – If the provided string can not be coerced into
an array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="core.Prompt.print_attribute">
<code class="descname">print_attribute</code><span class="sig-paren">(</span><em>attribute</em><span class="sig-paren">)</span><a class="headerlink" href="#core.Prompt.print_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints one of the robots attributes</p>
<p>Displays the requested attribute to the console</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>attribute</strong> – A string representing one of the robots properties</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="core.Prompt.print_waypoints">
<code class="descname">print_waypoints</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#core.Prompt.print_waypoints" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints all of the waypoints.</p>
</dd></dl>

<dl class="method">
<dt id="core.Prompt.remove_waypoint">
<code class="descname">remove_waypoint</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#core.Prompt.remove_waypoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a waypoint</p>
<p>This is meant to be called by the waypoint remove command. It parses
the index into an integer (hopefully) and then removes the waypoint.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>index</strong> – The index of the waypoint to be removed, 0 indexed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="core.Prompt.update_path">
<code class="descname">update_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#core.Prompt.update_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates and redraws the path</p>
</dd></dl>

<dl class="method">
<dt id="core.Prompt.update_robot">
<code class="descname">update_robot</code><span class="sig-paren">(</span><em>attribute</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#core.Prompt.update_robot" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates one of the robots attributes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>attribute</strong> – A string representing which value to modify</li>
<li><strong>value</strong> – A float to be inserted</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, ٩(｡•́‿•.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/core.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>